{{define "title"}}{{if .Article}}Edit{{else}}New{{end}} Article - Wiki{{end}}

{{define "content"}}
<div class="wiki-edit">
    <h1>{{if .Article}}Edit Article{{else}}Create New Article{{end}}</h1>

    <form action="{{if .Article}}/wiki/edit/{{.Article.Title}}{{else}}/wiki/new{{end}}" method="POST" class="form-container">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{if .Article}}{{.Article.Title}}{{end}}" {{if .Article}}readonly{{else}}required{{end}}>
        </div>

        <div class="form-group">
            <label for="content">Content</label>
            <textarea id="content" name="content" rows="20" required>{{if .Article}}{{.Article.Content}}{{end}}</textarea>
        </div>

        <div class="button-row">
            <button type="submit" class="button">{{if .Article}}Save Changes{{else}}Create Article{{end}}</button>
            <a href="{{if .Article}}/wiki/{{.Article.Title}}{{else}}/wiki{{end}}" class="button button-secondary">Cancel</a>
        </div>
    </form>
</div>
{{end}}

{{template "base" .}}